/*!
 * form-submit-lock
 * Author: Jaber Masud (https://jaber.netlify.app)
 * License: Free for personal and commercial use.
 * Description: Prevents multiple form submissions by disabling the clicked submit button and preserving its name/value.
 */
document.querySelectorAll("form").forEach(f=>{f._lastClickedSubmitButton=null;f.querySelectorAll('button[type="submit"]').forEach(b=>{b.addEventListener("click",function(){f._lastClickedSubmitButton=this})});f.addEventListener("submit",e=>{if(f.hasAttribute("data-ajax"))return;const b=f._lastClickedSubmitButton;if(!b||b.disabled)return;const n=b.name,v=b.value;if(n&&v){let i=f.querySelector(`input[type="hidden"][name="${n}"]`);i||(i=document.createElement("input"),i.type="hidden",i.name=n,f.appendChild(i)),i.value=v}b.disabled=!0,b.innerHTML=`<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> ${(typeof Lang!=="undefined"&&Lang.loading)||"Loading..."}`;f._lastClickedSubmitButton=null})});